<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <style>
    body {
      display: flex;
      margin: 0;
      font-family: Arial, sans-serif;
      height: 100vh;
      overflow: hidden;
    }

    .docs-article-container {
      display: flex;
      flex: 1;
      width: 100%;
      height: 100vh;
    }

    .text-container {
      flex: 1;  /* Занимает половину экрана */
      overflow-y: auto;
      padding: 1rem;
      background-color: #f9f9f9;
      box-sizing: border-box;
    }

    .link-container {
      flex: 1;  /* Занимает вторую половину экрана */
      background-color: #e9e9e9;
      box-shadow: -2px 0 5px rgba(0, 0, 0, 0.1);
      display: flex;
      flex-direction: column;
    }

    .link-container h2 {
      padding: 20px;
      margin: 0;
      background-color: #ddd;
      text-align: center;
    }

    .link-container iframe {
      flex: 1;
      border: none;
    }

    h1, h2, h3, h4 {
      color: #333;
    }

    a {
      color: #007bff;
      text-decoration: none;
    }

    a:hover {
      text-decoration: underline;
    }

    img {
      max-width: 100%;
      height: auto;
    }
  </style>
</head>

<meta name="author" content="Администрирование Astra Linux">
<meta name="description" content="Learn how to use Academic&#39;s docs layout for publishing online courses, software documentation, and tutorials.">
<link rel="alternate" hreflang="en-us" href="/projects/example/">
<meta name="theme-color" content="#2962ff">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css" integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0-1/css/all.min.css" integrity="sha256-4w9DunooKSr3MFXHXWyFER38WmPdm361bQS/2KUWZbU=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/github.min.css" crossorigin="anonymous" title="hl-light">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/dracula.min.css" crossorigin="anonymous" title="hl-dark" disabled>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.5.1/leaflet.css" integrity="sha256-SHMGCYmST46SoyGgo4YR/9AlK1vf3ff84Aq9yK4hdqM=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.1.2/lazysizes.min.js" integrity="sha256-Md1qLToewPeKjfAHU1zyPwOutccPAm5tahnaw7Osw0A=" crossorigin="anonymous" async></script>

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:400,700%7CRoboto:400,400italic,700%7CRoboto+Mono&display=swap">
<link rel="stylesheet" href="/css/academic.css">

<link rel="alternate" href="/projects/example/index.xml" type="application/rss+xml" title="Администрирование Astra Linux">
<link rel="manifest" href="/index.webmanifest">
<link rel="icon" type="image/png" href="/images/icon_hu0b7a4cb9992c9ac0e91bd28ffd38dd00_9727_32x32_fill_lanczos_center_3.png">
<link rel="apple-touch-icon" type="image/png" href="/images/icon_hu0b7a4cb9992c9ac0e91bd28ffd38dd00_9727_192x192_fill_lanczos_center_3.png">
<link rel="canonical" href="/projects/example/">



  <title>Дополнительные лабораторные работы | Администрирование Astra Linux</title>

</head>

<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" >

  <aside class="search-results" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" spellcheck="false" type="search">
        
      </div>

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>
<meta property="twitter:card" content="summary">
<meta property="twitter:site" content="@timofeysamsonov">
<meta property="twitter:creator" content="@timofeysamsonov">
<meta property="og:site_name" content="Администрирование Astra Linux">
<meta property="og:url" content="/projects/example/">
<meta property="og:title" content="Лабораторная работа #1 | Введение в ОС Astra Linux 1.7. Использование справочных ресурсов.">
<meta property="og:description" content="Learn how to use Academic&#39;s docs layout for publishing online courses, software documentation, and tutorials.">
<meta property="og:image" content="/images/icon_hu0b7a4cb9992c9ac0e91bd28ffd38dd00_9727_512x512_fill_lanczos_center_3.png">
<meta property="twitter:image" content="/images/icon_hu0b7a4cb9992c9ac0e91bd28ffd38dd00_9727_512x512_fill_lanczos_center_3.png">
<meta property="og:locale" content="en-us">
<meta property="og:updated_time" content="2018-09-09T00:00:00+00:00">

<title>Лабораторные работы | Администрирование Astra Linux</title>

</head>

<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents">

<aside class="search-results" id="search">
  <div class="container">
    <section class="search-header">
      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>
      <div id="search-box">
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off" autocomplete="off" autocorrect="off" spellcheck="false" type="search">
      </div>
    </section>
    <section class="section-search-results">
      <div id="search-hits"></div>
    </section>
  </div>
</aside>

<nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id="navbar-main">
  <div class="container">
    <div class="d-none d-lg-inline-flex">
      <a class="navbar-brand" href="/">Администрирование Astra Linux</a>
    </div>
    <button type="button" class="navbar-toggler" data-toggle="collapse"
            data-target="#navbar-content" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
    <span><i class="fas fa-bars"></i></span>
    </button>
    <div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none">
      <a class="navbar-brand" href="/">Администрирование Astra Linux</a>
    </div>
    <div class="navbar-collapse main-menu-item collapse justify-content-start" id="navbar-content">
      <ul class="navbar-nav d-md-inline-flex">
        <li class="nav-item">
          <a class="nav-link " href="/courses/"><span>Теоретический материал</span></a>
        </li>
        <li class="nav-item">
          <a class="nav-link " href="/projects/"><span>Лабораторные работы</span></a>
        </li>
        <li class="nav-item">
          <a class="nav-link " href="/about/"><span>Информационный блок</span></a>
        </li>
        <li class="nav-item">
          <a class="nav-link " href="/control/"><span>Итоговый контроль</span></a>
        </li>
        <li class="nav-item">
          <a class="nav-link " href="/ai/"><span>Побеседовать с виртуальным учителем</span></a>
        </li>
      </ul>
    </div>
  </div>
</nav>

 
   
  
</nav>

    </div>
    <div class="link-container">
      <h2>

        Консоль сервера

      </h2>
      <iframe 
        src="https://astra.hackatom.ru:3001/" 
        style="border:0px; width:100%; height:100%;">
      </iframe>
    </div>

    </script>


    <article class="article">
      <div class="docs-article-container">
        <h1>
 
        </h1>
        <div class="text-container">
            <div class="article-style">
            <h2 id="flexibility">Лабораторная работа №2. Усложнённый материал по итогам видеурока №2.</h2>

            <strong><p><---- Обратите внимание на консольный сервер в левой части экрана, вам следует использовать этот сервер для выполнения лабораторной работы</p></strong>
    
            <h2 id="flexibility">Цель работы</h2>
            <ul>
              <li>познакомиться с настройкой DNS-сервера на базе Astra Linux;</li>
              <li>познакомиться с настройкой Zabbix-сервера для мониторинга за компьютерами на базе Astra Linux.</li>
          </ul>
      
          <h2>Оборудование, ПО:</h2>
          <p>Виртуальная машина под управлением ОС Astra Linux 1.7 в режиме защищенности "Воронеж".</p>
      
          <h2>Ход работы:</h2>
          <p>В ходе лабораторной работы вы узнаете, как настроить DNS-сервер на основе операционной системы Astra Linux. Также вы изучите процесс настройки Zabbix-сервера для мониторинга компьютеров и серверов.</p>
      
          <h2>Установка и настройка DNS</h2>
          <p>DNS-сервер в Linux можно реализовать на основе двух популярных пакетов:</p>
          <ol>
              <li>dnsmasq</li>
              <li>bind9</li>
          </ol>
          <p>Первый инструмент - отличный вариант, если нужно сделать быстро и без специфических настроек. Второй инструмент - именно тот, на котором большинство крупнейших DNS-серверов работает и хостится. Очень серьезный инструмент для создания сложной DNS-инфраструктуры с многочисленными настройками. Изучим именно его.</p>
      
          <h3>Сервер должен обслуживать зону linux24.local</h3>
          <ol>
              <li>Установим сервер bind9:
                  <pre><code>apt install bind9</code></pre>
              </li>
              <li>После установки bind9 перейдем в первый конфигурационный файл - <strong>/etc/bind/named.conf.options</strong>. Это файл с основными опциями Bind9, для начала работы нам потребуется отредактировать некоторые параметры:
                  <h4>Начнем с <strong>forwarders</strong></h4>
                  <img src="Screen1.png" alt="Картинка">
                  <p>Предположим, что ваш сервер будет обслуживать зону linux24.local - для этого вы создадите отдельные файлы, наполните их смыслом - и дело сделано! Но что, если в вашей инфраструктуре есть еще DNS-зоны и сервера? И вы наверняка бы хотели, чтобы настройка клиентской стороны сводилась только к указанию одного конкретного сервера, а он уже в свою очередь перенаправлял запросы о других DNS-зонах (например, <strong>.ru</strong>, <strong>.rosatom</strong>, <strong>.com</strong>). Для этого выполняется настройка <strong>forwarders</strong>, где можно перечислить все адреса, которые будут использованы сервером в качестве "Глобального перенаправления". То есть в случае, когда сервер не знает о каком-то имени, он сначала обратится именно к этому адресу. Запрос, когда одному серверу необходимо "спросить" у другого сервера - называется <strong>рекурсивным</strong>.</p>
                  <img src="Screen2.png" alt="Картинка">
              </li>
              <li>Продолжим настройки. По умолчанию, DNS сервера включают поддержку DNSSEC. В рамках нашего курса настройка данной технологии не входит. Потребуется внести правки в конфигурационный файл <strong>/etc/bind/named.conf.options</strong>:
                  <img src="Screen3.png" alt="Картинка">
                  <p>Описание измененных параметров в конфигурационном файле:</p>
                  <ul>
                      <li>2,3 -- Отключить DNSSec;</li>
                      <li>4 – Разрешить запросы от всех клиентов. Если параметр не настроить - внешние клиенты не смогут пользоваться данным сервером. Ключевое слово <strong>any</strong> даст доступ всем. В этом параметре допускается конкретно указать адреса или подсети клиентов, например, allow-query {10.0.10.0/24, 10.0.20.0/24;};</li>
                      <li>5 -- Разрешить рекурсивные запросы. Как раз о чем говорили выше, по умолчанию, рекурсивные запросы запрещены;</li>
                      <li>6 – Ожидать соединение по порту 53 (стандартный для DNS) на всех интерфейсах.</li>
                  </ul>
                  <p>После выполнения настроек - перезагрузим сервер DNS:</p>
                  <pre><code>systemctl restart bind9</code></pre>
                  <p>После перезагрузки службы, убедитесь что порт 53 прослушивается на сервере:</p>
                  <pre><code>ss -natu | grep 53</code></pre>
                  <img src="Screen4.png" alt="Картинка">
              </li>
              <li>Переходим к настройке DNS-зон. Откройте конфигурационный файл - <strong>/etc/bind/named.conf.default-zones</strong>:
                  <img src="Screen5.png" alt="Картинка">
                  <p>Данными настройками мы объявили зону <strong>linux24.local</strong>, также указали в каком файле содержится зона.</p>
              </li>
              <li>Подготовим файл DNS-зоны. Данный файл имеет специфический формат - писать его вручную будет неудобно и долго. Поэтому, мы скопируем шаблон командой:
                  <pre><code>cp /etc/bind/db.0 /etc/bind/linux24</code></pre>
                  <p>А затем откроем файл <strong>/etc/bind/linux24</strong>:
                  <img src="Screen6.png" alt="Картинка">
                  <p>Встречает нас файл со сложной конструкцией, но не стоит его пугаться - вносить значения в данный файл просто.</p>
                  <p><strong>Serial</strong> - это номер версии файла зоны, который увеличивается каждый раз, когда происходят изменения в DNS-зоне.</p>
                  <p><strong>Refresh</strong> - это время через которое клиент выполняет обновление записей из мастер-сервера.</p>
                  <p><strong>Retry</strong> - это время через которое клиент попробует повторно обновить записи в случае неудачи при предыдущей попытке.</p>
                  <p><strong>Expire</strong> - это время после которого зона считается недействительной, если не получила обновление от мастер-сервера.</p>
                  <p><strong>Negative</strong> - это время кеширования неудачных или заблокированных ответов для данной зоны. То есть, например, если "соседний" сервер недоступен или не отвечает, то это значение укажет сколько "наш" сервер будет помнить об этой неисправности.</p>
                  <p>Затем укажем настройки наших DNS-зон:
                  <img src="Screen7.png" alt="Картинка">
                  <h4>Что мы сейчас написали?</h4>
                  <p>Первым значением мы указываем имя записи. Условный символ "@" указывает на сам сервер - его имя и IP-адрес. Также вместо "@" мы писали название DNS-записи, например, first. К ней автоматически добавится DNS-суффикс "linux24.local", получается что полное DNS-имя будет - first.linux24.local.</p>
                  <p>Далее "IN" - "internet protocol". В 99% случаев вы всегда будете писать именно данную аббревиатуру, определяя назначение DNS-записи.</p>
                  <p>Далее указывается тип записи. Их <a href="https://ru.wikipedia.org/wiki/%D0%A2%D0%B8%D0%BF%D1%8B_%D1%80%D0%B5%D1%81%D1%83%D1%80%D1%81%D0%BD%D1%8B%D1%85_%D0%B7%D0%B0%D0%BF%D0%B8%D1%81%D0%B5%D0%B9_DNS">много</a>, но мы рассмотрим лишь самые популярные:</p>
                  <table>
                      <thead>
                          <tr>
                              <th>Тип</th>
                              <th>Описание</th>
                              <th>Употребимость</th>
                          </tr>
                      </thead>
                      <tbody>
                          <tr>
                              <td>A (Address)</td>
                              <td>адресная запись, соответствие между именем и IP-адресом; только латиница, цифры и дефис</td>
                              <td>одна из самых часто используемых записей</td>
                          </tr>
                          <tr>
                              <td>AAAA</td>
                              <td>адрес в формате IPv6</td>
                              <td>эквивалент А для IPv6; только латиница и дефис</td>
                          </tr>
                          <tr>
                              <td>CNAME (Canonical Name)</td>
                              <td>каноническое (альтернативное) имя для псевдонима домена (одноуровневая переадресация); для написания национальными символами</td>
                              <td>широко используется (но имеет ограничения по применению)</td>
                          </tr>
                          <tr>
                              <td>MX</td>
                              <td>адрес почтового шлюза для домена: состоит из двух частей — приоритета (чем число больше, тем ниже приоритет), и адреса узла</td>
                              <td>критически важна для SMTP-протокола, основа маршрутизации почты в Интернете</td>
                          </tr>
                          <tr>
                              <td>NS</td>
                              <td>адрес узла, отвечающего за доменную зону: критически важна для функционирования самой системы доменных имён</td>
                              <td>Необходимая запись</td>
                          </tr>
                          <tr>
                              <td>PTR</td>
                              <td>соответствие адреса — имени: обратное соответствие для A и AAAA</td>
                              <td>широко используется для IPv4-адресов в домене in-addr.arpa, для IPv6 — в ip6.arpa</td>
                          </tr>
                          <tr>
                              <td>SOA (Start of authority)</td>
                              <td>указание на авторитетность информации, используется для указания на новую зону</td>
                              <td>Необходимая запись</td>
                          </tr>
                          <tr>
                              <td>TXT(Text string)</td>
                              <td>запись произвольных двоичных данных, до 255 байт в размере</td>
                              <td>Редко</td>
                          </tr>
                      </tbody>
                  </table>
              </li>
              <li>Проверим, что DNS работает? Для начала, стоит выполнить проверки синтаксиса. Наверняка, вы обратили внимание на обилие пробелов, знаков препинания и фигурных скобок в конфигурационных файлах bind9. Для проверки файлов <strong>named.conf.</strong> используйте команду:
                  <pre><code>named-checkconf</code></pre>
                  <p>Если в ответ пустой вывод - синтаксических ошибок нет.</p>
                  <p>Специально сделаем ошибку в файле <strong>/etc/bind/named.conf.options</strong>:
                  <img src="Screen8.png" alt="Картинка">
                  <p>И система нас уведомит о ошибках. Удобно проверять перед внедрением и запуском в работу.</p>
                  <p>Проверить корректность файлы зон допустимо командой:</p>
                  <pre><code>named-checkconf -z</code></pre>
                  <p>После проверки конфигурационных файлов, в случае, если ошибок нет - перезагрузите сервис bind9:</p>
                  <pre><code>systemctl restart bind9</code></pre>
                  <p>Ошибок нет? Отлично, тогда можем проверять!</p>
                  <pre><code>host first.linux24.local 127.0.0.1</code></pre>
                  <p>А также -</p>
                  <pre><code>host testipv6.linux24.local</code></pre>
                  <img src="Screen9.png" alt="Картинка">
              </li>
              <li>Так, с прямой зоной разобрались, а что там про обратную? <strong>Вспомним теорию</strong>. Обратная DNS-зона - это область в доменной системе имен (DNS), которая используется для преобразования IP-адресов в доменные имена. Например, если у вас есть IP-адрес компьютера и вы хотите узнать его доменное имя, вы можете использовать обратную DNS-зону. Прямая DNS-зона, наоборот, используется для преобразования доменных имен в IP-адреса. Например, если у вас есть доменное имя и вы хотите узнать его IP-адрес, вы можете использовать прямую DNS-зону. Для обратной зоны используется особый системный поддомен - in-addr.arpa. Его применение тоже необычно - для каждой подсети создается отдельная обратная зона. Так, например, если у вас есть подсеть - 192.168.10.0/24. Вы можете создать под неё следующие поддомены:
                  <ol>
                      <li>192.in-addr.arpa</li>
                      <li>168.192.in-addr.arpa</li>
                      <li>10.168.192.in-addr.arpa</li>
                  </ol>
                  <p>Как можно заметить, список выше сформирован по принципу от "самой большой" до "самой малой" зоны. Получается, что IP-адрес - 192.168.20.10 попадет в зону п.1 и п.2, но для п.3 уже будет недопустим.</p>
                  <p>Помните, во время работы с прямой зоной мы обсуждали тему DNS-суффиксов. Тогда к записям в файле зоны автоматически подставляется DNS-суффикс. В случае обратной зоны это правило также актуально.</p>
                  <p>Предположим, у вас адрес 192.168.10.10 указывающий на DNS-имя first.linux24.local. Тогда, если у вас зона настроена п.1, тогда запись имеет вид:</p>
                  <pre><code>10.10.168 IN PTR first.linux24.local</code></pre>
                  <p>Запись записывается в зеркально. Если зона настроена, как в п.2:</p>
                  <pre><code>10.10 IN PTR first.linux24.local</code></pre>
                  <p>Если зона настроена, как в п.3:</p>
                  <pre><code>10 IN PTR first.linux24.local</code></pre>
                  <h4>Фух, нелегко! Попробуем настроить?</h4>
                  <p>Перейдем в файл <strong>/etc/bind/named.conf.default-zones</strong>. Опишем конструкцию нашей обратной DNS-зоны:</p>
                  <img src="Screen10.png" alt="Картинка">
                  <p>Скопируем шаблон:</p>
                  <pre><code>cp /etc/bind/db.127 /etc/bind/ptr</code></pre>
                  <p>А затем приведем файл обратной зоны к следующему виду:</p>
                  <img src="Screen11.png" alt="Картинка">
                  <p>После настройки, проверим файлы на ошибки:</p>
                  <pre><code>named-checkconf</code></pre>
                  <p>И</p>
                  <pre><code>named-checkonf -z</code></pre>
                  <img src="Screen12.png" alt="Картинка">
                  <p>Перезапустите службу bind9:</p>
                  <pre><code>systemctl restart bind9</code></pre>
                  <p>А затем проверим работу обратной зоны:</p>
                  <img src="Screen13.png" alt="Картинка">
              </li>
          </ol>
      
          <h2>Настройка Zabbix</h2>
          <p>Zabbix - это популярная и мощная система мониторинга с открытым исходным кодом, которая позволяет отслеживать состояние различных компонентов IT-инфраструктуры, таких как серверы, сети, базы данных и приложения. Она предоставляет возможность мониторить производительность, доступность и надежность различных устройств и служб, а также предупреждать об их возможных проблемах и отказах. Zabbix также поддерживает различные методы уведомления, такие как электронная почта, SMS и мессенджеры, чтобы оперативно информировать администраторов о проблемах.</p>
          <p>Zabbix, по умолчанию, используется ALD Pro, так что продукт популярный и получил применение в Astra Linux.</p>
          <p>Начнем работу с Zabbix с установки ПО:</p>
          <pre><code>sudo apt install zabbix-server-pgsql zabbix-frontend-php php-pgsql</code></pre>
          <p>После установки ПО, первым делом нам необходимо выключить AstraMode. Откроем файл <strong>/etc/apache2/apache2.conf</strong>:</p>
          <img src="Screen14.png" alt="Картинка">
          <p>Zabbix использует локальную (или удаленную, смотря что требуется) базу данных для хранения информации о хостах. В нашем случае, мы создадим пользователя zabbix с доступом к базе данных zabbix. Пароль пользователю назначьте самостоятельно (в лабораторных целях допускается использования пароля - P@ssw0rd). Введите команду для создания пользователя:</p>
          <pre><code>sudo -u postgres createuser --pwprompt zabbix</code></pre>
          <p>Затем создайте базу данных. Владельцем БД укажем выше созданного пользователя zabbix:</p>
          <pre><code>sudo -u postgres createdb -O zabbix -E unicode -T template0 zabbix</code></pre>
          <p>База данных создана, но не заполнена ни одной строкой и колонкой. Мы заполним её из шаблона, который предоставляю разработчики Zabbix, но перед этим - разрешим безпарольный локальный доступ до БД. Для этого откройте файл <strong>/etc/postgresql/X/main/pg_hba.conf</strong>, где X - это номер установленной версии PostgreSQL. Необходимо привести файл к состоянию, как на скриншоте:</p>
          <img src="Screen15.png" alt="Картинка">
          <p>Перезагрузите службу postgresql после внесённых правок:</p>
          <pre><code>systemctl restart postgresql</code></pre>
          <h3>После подготовки базы данных и основных конфигурационных параметров - импортируем таблицы.</h3>
          <p>В каталогах <strong>/usr/share/doc</strong> или <strong>/usr/share</strong> часто можно встретить одноименные с установленными пакетами директории. В этих директориях часто можно встретить шаблоны конфигураций, подсказки от разработчиков и прочую справочную информацию. Zabbix - не исключение. В каталоге <strong>/usr/share/zabbix-server-pgsql</strong> можно встретить шаблоны schema, images, data. Загрузить их можно с помощью команды:</p>
          <pre><code>zcat /usr/share/zabbix-server-pgsql/{schema,images,data}.sql.gz | psql -h localhost zabbix zabbix</code></pre>
          <p>А затем подключить модуль zabbix-frontend-php для Apache2:</p>
          <pre><code>sudo a2enconf zabbix-frontend-php
      sudo systemctl reload apache2</code></pre>
          <p>Далее необходимо скопировать PHP-конфигурационный файл Zabbix:</p>
          <pre><code>sudo cp /usr/share/zabbix/conf/zabbix.conf.php.example /etc/zabbix/zabbix.conf.php</code></pre>
          <p>В скопированном файле <strong>/etc/zabbix/zabbix.conf.php</strong> внесите информацию о используемой базе данных, её адресе, названии базы данных, а также сведения о пользователе с доступом к БД:</p>
          <img src="Screen16.png" alt="Картинка">
          <p>После выполнения всех настроек перезагрузим Apache2:</p>
          <pre><code>systemctl reload apache2</code></pre>
          <h3>Ура, Zabbix готов, откроем браузер!</h3>
          <p>В браузере перейдите на адрес - localhost/zabbix. Логин и пароль,по умолчанию, Admin (с заглавной буквы) и пароль - zabbix.</p>
          <img src="Screen17.png" alt="Картинка">
          <p>Перейдем в "Мониторинг" --> "Узлы сети":</p>
          <img src="Screen18.png" alt="Картинка">
          <p>Единственный наш хост - Zabbix Server и недоступен! Исправить это легко - необходимо настроить Zabbix-агент. <strong>Если у вас система на английском и везде уведомления о сломанных кодировках, перейдите в пункт меню: "Администрирование" --> "Общие" --> "Язык по умолчанию" --> "Русский (ru_RU)"</strong>.</p>
          <p>Zabbix-агент можно установить командой:</p>
          <pre><code>apt install zabbix-agent</code></pre>
          <p>А настроить в файле <strong>/etc/zabbix/zabbix_agentd.conf</strong>. Если не требуется использовать авторизацию агентов, то подключение происходит редактированием одной строки - Server. Укажите адрес вашего Zabbix (или 127.0.0.1, если планируете подключать сервер к самому себе):</p>
          <img src="Screen19.png" alt="Картинка">
          <p>Спустя время красная строка ZBX сменится зеленой - значит теперь хост мониторится нашим Zabbix:</p>
          <img src="Screen20.png" alt="Картинка">
          <p>Теперь мы можем контроллировать нагрузку нашего сервера, получать оперативные уведомления о ошибках и наблюдать за его ежедневной работой:</p>
          <img src="Screen21.png" alt="Картинка">
      
          <h2>Заключение</h2>
          <p>В ходе проведения лабораторной работы были изучены DNS-сервер bind9 и система мониторинга Zabbix. Мы рассмотрели основные принципы работы и настройки DNS-сервера, а также способы мониторинга его работы с использованием Zabbix.</p>
      
          <h2>Практическая работа</h2>
          <ol>
              <li>Создайте DNS записи в соответствии с таблицей:
                  <table>
                      <thead>
                          <tr>
                              <th>Имя</th>
                              <th>Тип записи</th>
                              <th>Адрес</th>
                          </tr>
                      </thead>
                      <tbody>
                          <tr>
                              <td>br-rtr.linux24.local</td>
                              <td>A, PTR</td>
                              <td>192.168.2.1</td>
                          </tr>
                          <tr>
                              <td>cr-rtr.linux24.local</td>
                              <td>A,PTR</td>
                              <td>192.168.3.1</td>
                          </tr>
                          <tr>
                              <td>cr-cli.linux24.local</td>
                              <td>A</td>
                              <td>192.168.3.100</td>
                          </tr>
                          <tr>
                              <td>cr-srv.linux24.local</td>
                              <td>A,PTR</td>
                              <td>192.168.3.10</td>
                          </tr>
                          <tr>
                              <td>web.linux24.local</td>
                              <td>CNAME</td>
                              <td>br-srv2.linux24.local</td>
                          </tr>
                          <tr>
                              <td>webfiles.linux24.local</td>
                              <td>CNAME</td>
                              <td>br-srv2.linux24.local</td>
                          </tr>
                          <tr>
                              <td>mail.linux24.local</td>
                              <td>MX</td>
                              <td>br-srv2.linux24.local</td>
                          </tr>
                      </tbody>
                  </table>
              </li>
              <li>Подключите для Zabbix Server мониторинг блочных устройств через настройку шаблона:
                  <img src="Screen22.png" alt="Картинка">
              </li>
          </ol>
      
          <h2>Дополнительная информация:</h2>
          <ol>
              <li>Установка системы мониторинга Zabbix на Astra Linux SE <a href="https://wiki.astralinux.ru/pages/viewpage.action?pageId=38699775">Ссылка</a></li>
              <li>BIND9 в качестве DNS-сервера в частных сетях <a href="https://www.digitalocean.com/community/tutorials/how-to-configure-bind-as-a-private-network-dns-server-on-ubuntu-18-04-ru">Ссылка</a></li>
              <li>Zabbix-шаблоны <a href="https://www.zabbix.com/documentation/current/ru/manual/config/templates">Ссылка</a></li>
              <li>Руководство по Zabbix <a href="https://www.zabbix.com/documentation/current/ru/manual">Ссылка</a></li>
          </ol>
          <p>После завершения работы, для проверки выполнения работ - выполните команду  <pre>checker_new_system1</pre></p>
</body>
<style>
  .divider {
    background-color: #f0f0f0; /* Серый фон */
    padding: 15px;
    text-align: center;
    margin: 20px 0;
    border-radius: 5px;
    font-weight: bold;
    color: #333; /* Цвет текста */
    display: block; /* Чтобы ссылка занимала всю ширину */
    text-decoration: none; /* Убираем подчеркивание */
}
.divider:hover {
    background-color: #e0e0e0; /* Изменение фона при наведении */
}
p {
    margin-bottom: 20px;
}

.navigation-buttons {
display: flex;
justify-content: space-between;
margin-top: 20px;
}
</style>
<div class="navigation-buttons">
  <a href="/projects/example1.2" class="divider">Переход к лабораторной работе основного курса №3</a>
</div>



          </div>
        </div>
      </div>
    </article>
 


  </p>
</footer>


    </main>
  </div>
</div>


      

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js" integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>

      

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js" integrity="sha256-eOgo0OtLL4cdq7RdwRUiGKLX9XsIJ7nGhWEKbohmVAQ=" crossorigin="anonymous"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/languages/r.min.js"></script>
        
      

    

    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.5.1/leaflet.js" integrity="sha256-EErZamuLefUnbMBQbsEqu1USa+btR2oIlCpBJbyD4/g=" crossorigin="anonymous"></script>
    

    
    
    <script>const code_highlighting = true;</script>
    

    
    
    <script>const isSiteThemeDark = false;</script>
    

    
    
    
    
    
    
    <script>
      const search_config = {"indexURI":"/index.json","minLength":1,"threshold":0.3};
      const i18n = {"no_results":"No results found","placeholder":"Search...","results":"results found"};
      const content_type = {
        'post': "Posts",
        'project': "Projects",
        'publication' : "Publications",
        'talk' : "Talks"
        };
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.1/anchor.min.js" integrity="sha256-pB/deHc9CGfFpJRjC43imB29Rse8tak+5eXqntO94ck=" crossorigin="anonymous"></script>
    <script>
      anchors.add();
    </script>
    

    
    
    <script id="search-hit-fuse-template" type="text/x-template">
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>
    

    
    

    
    

    
    

    
    
    
    
    
    
    
    
    
      
    
    
    
    
    <script src="/js/academic.min.4aaf2d64e50f8e54cf66dcc54147a22e.js"></script>

    






  
  

  
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

</body>
</html>
